import{_ as a,o as e,c as n,a as t}from"./app.0ba8a14d.js";const u='{"title":"\u7EBF\u7A0B\u5B89\u5168\u51FD\u6570","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/tsfn.md","lastUpdated":1662189195000}',s={},r=t(`<h1 id="\u7EBF\u7A0B\u5B89\u5168\u51FD\u6570" tabindex="-1">\u7EBF\u7A0B\u5B89\u5168\u51FD\u6570 <a class="header-anchor" href="#\u7EBF\u7A0B\u5B89\u5168\u51FD\u6570" aria-hidden="true">#</a></h1><ul><li><a href="https://nodejs.org/dist/v16.15.0/docs/api/n-api.html#napi_create_threadsafe_function" target="_blank" rel="noopener noreferrer">napi_create_threadsafe_function</a></li><li><a href="https://nodejs.org/dist/v16.15.0/docs/api/n-api.html#napi_get_threadsafe_function_context" target="_blank" rel="noopener noreferrer">napi_get_threadsafe_function_context</a></li><li><a href="https://nodejs.org/dist/v16.15.0/docs/api/n-api.html#napi_call_threadsafe_function" target="_blank" rel="noopener noreferrer">napi_call_threadsafe_function</a></li><li><a href="https://nodejs.org/dist/v16.15.0/docs/api/n-api.html#napi_acquire_threadsafe_function" target="_blank" rel="noopener noreferrer">napi_acquire_threadsafe_function</a></li><li><a href="https://nodejs.org/dist/v16.15.0/docs/api/n-api.html#napi_release_threadsafe_function" target="_blank" rel="noopener noreferrer">napi_release_threadsafe_function</a></li></ul><p>\u9700\u8981\u542F\u7528 pthreads\uFF1A</p><div class="language-bash"><pre><code>emcc <span class="token parameter variable">-sUSE_PTHREADS</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">..</span>.
</code></pre></div><p>\u540C\u65F6\u8FD8\u5EFA\u8BAE\u6307\u5B9A\u7EBF\u7A0B\u6C60\u5927\u5C0F\uFF1A</p><div class="language-bash"><pre><code>emcc <span class="token parameter variable">-sUSE_PTHREADS</span><span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-sPTHREAD_POOL_SIZE</span><span class="token operator">=</span><span class="token number">4</span> <span class="token punctuation">..</span>.
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u5982\u679C\u4F60\u542F\u7528\u4E86 pthreads (<code>-sUSE_PTHREADS=1</code>)\uFF0C \u8F93\u51FA\u7684 JavaScript \u5C31<strong>\u4E0D\u80FD</strong>\u5728 webpack \u4E4B\u7C7B\u7684\u6253\u5305\u5668\u4E2D\u4F7F\u7528\u3002</p></div><p><a href="https://github.com/toyobayashi/node-addon-examples/tree/emnapi/async_work_thread_safe_function/napi" target="_blank" rel="noopener noreferrer">\u5728\u8FD9\u91CC\u67E5\u770B\u793A\u4F8B</a>\u3002</p>`,8),o=[r];function p(i,c,_,l,d,h){return e(),n("div",null,o)}var m=a(s,[["render",p]]);export{u as __pageData,m as default};
