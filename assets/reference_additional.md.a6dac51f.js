import{_ as e,o as n,c as a,a as s}from"./app.1acbcc36.js";const k='{"title":"Additional APIs","description":"","frontmatter":{},"headers":[],"relativePath":"reference/additional.md","lastUpdated":1658586974000}',t={},o=s(`<h1 id="additional-apis" tabindex="-1">Additional APIs <a class="header-anchor" href="#additional-apis" aria-hidden="true">#</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>These APIs are in <code>emnapi.h</code>.</p></div><h4 id="emnapi-is-support-weakref" tabindex="-1">emnapi_is_support_weakref <a class="header-anchor" href="#emnapi-is-support-weakref" aria-hidden="true">#</a></h4><div class="language-c"><pre><code><span class="token keyword">int</span> <span class="token function">emnapi_is_support_weakref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Returns <code>1</code> if the runtime support <code>FinalizationRegistry</code> and <code>WeakRef</code>, else returns <code>0</code>.</p><h4 id="emnapi-is-support-bigint" tabindex="-1">emnapi_is_support_bigint <a class="header-anchor" href="#emnapi-is-support-bigint" aria-hidden="true">#</a></h4><div class="language-c"><pre><code><span class="token keyword">int</span> <span class="token function">emnapi_is_support_bigint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Returns <code>1</code> if the runtime support <code>BigInt</code>, else returns <code>0</code>.</p><h4 id="emnapi-get-module-object" tabindex="-1">emnapi_get_module_object <a class="header-anchor" href="#emnapi-get-module-object" aria-hidden="true">#</a></h4><div class="language-c"><pre><code>napi_status <span class="token function">emnapi_get_module_object</span><span class="token punctuation">(</span>napi_env env<span class="token punctuation">,</span>
                                     napi_value<span class="token operator">*</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>[in] env</code>: The environment that the API is invoked under.</li><li><code>[out] result</code>: A <code>napi_value</code> representing the <code>Module</code> object of Emscripten.</li></ul><p>Returns <code>napi_ok</code> if the API succeeded.</p><h4 id="emnapi-get-module-property" tabindex="-1">emnapi_get_module_property <a class="header-anchor" href="#emnapi-get-module-property" aria-hidden="true">#</a></h4><div class="language-c"><pre><code>napi_status <span class="token function">emnapi_get_module_property</span><span class="token punctuation">(</span>napi_env env<span class="token punctuation">,</span>
                                       <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> utf8name<span class="token punctuation">,</span>
                                       napi_value<span class="token operator">*</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>[in] env</code>: The environment that the API is invoked under.</li><li><code>[in] utf8Name</code>: The name of the <code>Module</code> property to get.</li><li><code>[out] result</code>: The value of the property.</li></ul><p>Returns <code>napi_ok</code> if the API succeeded.</p><h4 id="emnapi-create-external-uint8array" tabindex="-1">emnapi_create_external_uint8array <a class="header-anchor" href="#emnapi-create-external-uint8array" aria-hidden="true">#</a></h4><div class="language-c"><pre><code>napi_status <span class="token function">emnapi_create_external_uint8array</span><span class="token punctuation">(</span>napi_env env<span class="token punctuation">,</span>
                                              <span class="token keyword">void</span><span class="token operator">*</span> external_data<span class="token punctuation">,</span>
                                              <span class="token class-name">size_t</span> byte_length<span class="token punctuation">,</span>
                                              napi_finalize finalize_cb<span class="token punctuation">,</span>
                                              <span class="token keyword">void</span><span class="token operator">*</span> finalize_hint<span class="token punctuation">,</span>
                                              napi_value<span class="token operator">*</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>[in] env</code>: The environment that the API is invoked under.</li><li><code>[in] external_data</code>: Pointer to the underlying byte buffer of the <code>Uint8Array</code>.</li><li><code>[in] byte_length</code>: The length in bytes of the underlying buffer.</li><li><code>[in] finalize_cb</code>: Optional callback to call when the <code>Uint8Array</code> is being collected.</li><li><code>[in] finalize_hint</code>: Optional hint to pass to the finalize callback during collection.</li><li><code>[out] result</code>: A <code>napi_value</code> representing a JavaScript <code>Uint8Array</code>.</li></ul><p>Returns <code>napi_ok</code> if the API succeeded. Returns <code>napi_generic_failure</code> if <code>FinalizationRegistry</code> or <code>WeakRef</code> is not supported.</p><p>This API returns an N-API value corresponding to a JavaScript <code>Uint8Array</code>. The underlying byte buffer of the <code>Uint8Array</code> is externally allocated and managed. The caller must ensure that the byte buffer remains valid until the finalize callback is called.</p><h4 id="emnapi-get-emscripten-version" tabindex="-1">emnapi_get_emscripten_version <a class="header-anchor" href="#emnapi-get-emscripten-version" aria-hidden="true">#</a></h4><div class="language-c"><pre><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  <span class="token class-name">uint32_t</span> major<span class="token punctuation">;</span>
  <span class="token class-name">uint32_t</span> minor<span class="token punctuation">;</span>
  <span class="token class-name">uint32_t</span> patch<span class="token punctuation">;</span>
<span class="token punctuation">}</span> emnapi_emscripten_version<span class="token punctuation">;</span>

napi_status <span class="token function">emnapi_get_emscripten_version</span><span class="token punctuation">(</span>napi_env env<span class="token punctuation">,</span>
                                          <span class="token keyword">const</span> emnapi_emscripten_version<span class="token operator">*</span><span class="token operator">*</span> version<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>[in] env</code>: The environment that the API is invoked under.</li><li><code>[out] version</code>: A pointer to version information for Emscripten itself.</li></ul><p>Returns <code>napi_ok</code> if the API succeeded.</p><p>This function fills the version struct with the major, minor, and patch version of Emscripten that is used for compiling current wasm module.</p><p>The returned buffer does not need to be freed.</p>`,27),i=[o];function p(c,r,d,l,u,h){return n(),a("div",null,i)}var m=e(t,[["render",p]]);export{k as __pageData,m as default};
