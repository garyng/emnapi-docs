import{_ as e,o as a,c as n,a as t}from"./app.ac372f24.js";const u='{"title":"Thread Safe function","description":"","frontmatter":{},"headers":[],"relativePath":"guide/tsfn.md","lastUpdated":1658753133000}',r={},s=t(`<h1 id="thread-safe-function" tabindex="-1">Thread Safe function <a class="header-anchor" href="#thread-safe-function" aria-hidden="true">#</a></h1><ul><li><a href="https://nodejs.org/dist/v16.15.0/docs/api/n-api.html#napi_create_threadsafe_function" target="_blank" rel="noopener noreferrer">napi_create_threadsafe_function</a></li><li><a href="https://nodejs.org/dist/v16.15.0/docs/api/n-api.html#napi_get_threadsafe_function_context" target="_blank" rel="noopener noreferrer">napi_get_threadsafe_function_context</a></li><li><a href="https://nodejs.org/dist/v16.15.0/docs/api/n-api.html#napi_call_threadsafe_function" target="_blank" rel="noopener noreferrer">napi_call_threadsafe_function</a></li><li><a href="https://nodejs.org/dist/v16.15.0/docs/api/n-api.html#napi_acquire_threadsafe_function" target="_blank" rel="noopener noreferrer">napi_acquire_threadsafe_function</a></li><li><a href="https://nodejs.org/dist/v16.15.0/docs/api/n-api.html#napi_release_threadsafe_function" target="_blank" rel="noopener noreferrer">napi_release_threadsafe_function</a></li></ul><p>Require pthreads enabled:</p><div class="language-bash"><pre><code>emcc -sUSE_PTHREADS<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">..</span>.
</code></pre></div><p>Specifying thread pool size is also recommended:</p><div class="language-bash"><pre><code>emcc -sUSE_PTHREADS<span class="token operator">=</span><span class="token number">1</span> -sPTHREAD_POOL_SIZE<span class="token operator">=</span><span class="token number">4</span> <span class="token punctuation">..</span>.
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you have pthreads enabled (<code>-sUSE_PTHREADS=1</code>), the output JavaScript <strong>can not</strong> be used in bundler like webpack.</p></div><p>See examples <a href="https://github.com/toyobayashi/node-addon-examples/tree/emnapi/async_work_thread_safe_function/napi" target="_blank" rel="noopener noreferrer">here</a>.</p>`,8),o=[s];function i(p,c,_,d,l,f){return a(),n("div",null,o)}var m=e(r,[["render",i]]);export{u as __pageData,m as default};
