import{_ as e,o as i,c as a,a as l}from"./app.1acbcc36.js";const u='{"title":"API \u5217\u8868","description":"","frontmatter":{"sidebarDepth":3},"headers":[{"level":2,"title":"\u4E0D\u53EF\u7528\u7684 API","slug":"\u4E0D\u53EF\u7528\u7684-api"},{"level":2,"title":"\u53D7\u9650\u7684 API","slug":"\u53D7\u9650\u7684-api"},{"level":3,"title":"\u5F15\u7528\u76F8\u5173","slug":"\u5F15\u7528\u76F8\u5173"},{"level":3,"title":"BigInt \u76F8\u5173","slug":"bigint-\u76F8\u5173"},{"level":3,"title":"ArrayBuffer \u76F8\u5173","slug":"arraybuffer-\u76F8\u5173"},{"level":3,"title":"\u5185\u5B58\u7BA1\u7406","slug":"\u5185\u5B58\u7BA1\u7406"},{"level":3,"title":"\u591A\u7EBF\u7A0B\u76F8\u5173","slug":"\u591A\u7EBF\u7A0B\u76F8\u5173"},{"level":2,"title":"\u4EFB\u4F55\u65F6\u5019\u90FD\u53EF\u7528\u7684 API","slug":"\u4EFB\u4F55\u65F6\u5019\u90FD\u53EF\u7528\u7684-api"}],"relativePath":"zh/reference/list.md","lastUpdated":1658587544000}',n={},r=l(`<h1 id="api-\u5217\u8868" tabindex="-1">API \u5217\u8868 <a class="header-anchor" href="#api-\u5217\u8868" aria-hidden="true">#</a></h1><h2 id="\u4E0D\u53EF\u7528\u7684-api" tabindex="-1">\u4E0D\u53EF\u7528\u7684 API <a class="header-anchor" href="#\u4E0D\u53EF\u7528\u7684-api" aria-hidden="true">#</a></h2><div class="danger custom-block"><p class="custom-block-title">WARNING</p><p>\u4EE5\u4E0B API \u4E0D\u5B58\u5728\u3002</p></div><h4 id="js-native-api-h" tabindex="-1">js_native_api.h <a class="header-anchor" href="#js-native-api-h" aria-hidden="true">#</a></h4><ul><li><s>napi_create_external_arraybuffer</s> (use <a href="/emnapi-docs/zh/reference/additional.html#emnapi-create-external-uint8array">emnapi_create_external_uint8array</a> instead)</li></ul><h4 id="node-api-h" tabindex="-1">node_api.h <a class="header-anchor" href="#node-api-h" aria-hidden="true">#</a></h4><ul><li><s>napi_module_register</s></li><li><s>napi_async_init</s></li><li><s>napi_async_destroy</s></li><li><s>napi_make_callback</s></li><li><s>napi_create_buffer</s></li><li><s>napi_create_external_buffer</s></li><li><s>napi_create_buffer_copy</s></li><li><s>napi_is_buffer</s></li><li><s>napi_get_buffer_info</s></li><li><s>napi_get_uv_event_loop</s></li><li><s>napi_add_env_cleanup_hook</s></li><li><s>napi_remove_env_cleanup_hook</s></li><li><s>napi_open_callback_scope</s></li><li><s>napi_close_callback_scope</s></li><li><s>napi_add_async_cleanup_hook</s></li><li><s>napi_remove_async_cleanup_hook</s></li><li><s>node_api_get_module_file_name</s></li></ul><h2 id="\u53D7\u9650\u7684-api" tabindex="-1">\u53D7\u9650\u7684 API <a class="header-anchor" href="#\u53D7\u9650\u7684-api" aria-hidden="true">#</a></h2><h3 id="\u5F15\u7528\u76F8\u5173" tabindex="-1">\u5F15\u7528\u76F8\u5173 <a class="header-anchor" href="#\u5F15\u7528\u76F8\u5173" aria-hidden="true">#</a></h3><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>\u53EA\u6709 <code>Object</code> \u548C <code>Function</code> \u53EF\u4EE5\u88AB\u5F15\u7528\uFF0C\u4E0D\u652F\u6301 <code>Symbol</code>\u3002</p><p>\u5982\u679C\u8FD0\u884C\u65F6\u4E0D\u652F\u6301 <a href="https://www.caniuse.com/?search=FinalizationRegistry" target="_blank" rel="noopener noreferrer">FinalizationRegistry</a> \u548C <a href="https://www.caniuse.com/?search=WeakRef" target="_blank" rel="noopener noreferrer">WeakRef</a>\uFF0C\u4E0B\u9762\u7684 API \u6709\u4E00\u5B9A\u7684\u9650\u5236\uFF0C\u65E0\u8BBA\u5F15\u7528\u8BA1\u6570\u662F\u5426\u4E3A 0\uFF0C\u6240\u6709\u5F15\u7528\u90FD\u662F\u5F3A\u5F15\u7528\u3002</p></div><h4 id="js-native-api-h-1" tabindex="-1">js_native_api.h <a class="header-anchor" href="#js-native-api-h-1" aria-hidden="true">#</a></h4><ul><li><em><strong>napi_wrap</strong></em>: <code>finalize_cb</code> \u548C <code>result</code> \u5FC5\u987B\u4F20 <code>NULL</code>, \u7A0D\u540E\u5FC5\u987B\u8C03\u7528 <code>napi_remove_wrap</code></li><li><em><strong>napi_create_external</strong></em>: <code>finalize_cb</code> \u5FC5\u987B\u4F20 <code>NULL</code></li><li><em><strong>napi_create_reference</strong></em>: \u5373\u4F7F\u4F20 <code>0</code> \u7ED9 <code>initial_refcount</code> \u4E5F\u521B\u5EFA\u5F3A\u5F15\u7528</li><li><em><strong>napi_reference_unref</strong></em>: \u5373\u4F7F\u8BA1\u6570\u4E3A 0\uFF0C\u8BE5\u5F15\u7528\u4ECD\u7136\u662F\u5F3A\u5F15\u7528</li><li><em><strong>napi_add_finalizer</strong></em>: \u4E0D\u53EF\u7528\uFF0C\u603B\u662F\u629B\u51FA\u9519\u8BEF</li></ul><h3 id="bigint-\u76F8\u5173" tabindex="-1">BigInt \u76F8\u5173 <a class="header-anchor" href="#bigint-\u76F8\u5173" aria-hidden="true">#</a></h3><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>\u4EE5\u4E0B API \u9700\u8981 <a href="https://www.caniuse.com/?search=BigInt" target="_blank" rel="noopener noreferrer">BigInt</a> (v8 \u5F15\u64CE v6.7+ / Node.js v10.4.0+)\uFF0C\u5982\u679C\u8FD0\u884C\u65F6\u4E0D\u652F\u6301\uFF0C\u5219\u629B\u51FA\u9519\u8BEF\u3002</p></div><h4 id="js-native-api-h-2" tabindex="-1">js_native_api.h <a class="header-anchor" href="#js-native-api-h-2" aria-hidden="true">#</a></h4><ul><li><em><strong>napi_create_bigint_int64</strong></em></li><li><em><strong>napi_create_bigint_uint64</strong></em></li><li><em><strong>napi_create_bigint_words</strong></em></li><li><em><strong>napi_get_value_bigint_int64</strong></em></li><li><em><strong>napi_get_value_bigint_uint64</strong></em></li><li><em><strong>napi_get_value_bigint_words</strong></em></li></ul><h3 id="arraybuffer-\u76F8\u5173" tabindex="-1">ArrayBuffer \u76F8\u5173 <a class="header-anchor" href="#arraybuffer-\u76F8\u5173" aria-hidden="true">#</a></h3><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><code>data</code> \u6307\u9488\u8FD4\u56DE\u503C\u53EF\u80FD\u4E3A <code>NULL</code> \u7684 API\uFF1A</p></div><h4 id="js-native-api-h-3" tabindex="-1">js_native_api.h <a class="header-anchor" href="#js-native-api-h-3" aria-hidden="true">#</a></h4><ul><li><em><strong>napi_create_arraybuffer</strong></em> (<code>data</code> \u603B\u662F\u8FD4\u56DE <code>NULL</code>\uFF0CJS \u65E0\u6CD5\u5B9E\u73B0)</li><li><em><strong>napi_get_arraybuffer_info</strong></em> (\u9700\u8981 <code>FinalizationRegistry</code>\uFF0Cdata \u662F wasm \u5185\u5B58\u4E2D\u7684\u4E00\u4EFD\u62F7\u8D1D)</li><li><em><strong>napi_get_typedarray_info</strong></em> (\u9700\u8981 <code>FinalizationRegistry</code>\uFF0Cdata \u662F wasm \u5185\u5B58\u4E2D\u7684\u4E00\u4EFD\u62F7\u8D1D)</li><li><em><strong>napi_get_dataview_info</strong></em> (\u9700\u8981 <code>FinalizationRegistry</code>\uFF0Cdata \u662F wasm \u5185\u5B58\u4E2D\u7684\u4E00\u4EFD\u62F7\u8D1D)</li></ul><h3 id="\u5185\u5B58\u7BA1\u7406" tabindex="-1">\u5185\u5B58\u7BA1\u7406 <a class="header-anchor" href="#\u5185\u5B58\u7BA1\u7406" aria-hidden="true">#</a></h3><h4 id="js-native-api-h-4" tabindex="-1">js_native_api.h <a class="header-anchor" href="#js-native-api-h-4" aria-hidden="true">#</a></h4><ul><li><em><strong>napi_adjust_external_memory</strong></em> (\u5185\u90E8\u8C03\u7528 <code>emscripten_resize_heap</code>, <code>change_in_bytes</code> \u5FC5\u987B\u662F\u6B63\u6574\u6570)</li></ul><h3 id="\u591A\u7EBF\u7A0B\u76F8\u5173" tabindex="-1">\u591A\u7EBF\u7A0B\u76F8\u5173 <a class="header-anchor" href="#\u591A\u7EBF\u7A0B\u76F8\u5173" aria-hidden="true">#</a></h3><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>\u8FD9\u4E9B API \u9700\u8981 Emscripten pthread \u652F\u6301\uFF08<code>-sUSE_PTHREADS=1</code>\uFF09\uFF0C\u5EFA\u8BAE\u660E\u786E\u6307\u5B9A\u7EBF\u7A0B\u6C60\u5927\u5C0F\uFF08<code>-sPTHREAD_POOL_SIZE=4</code>\uFF09\u3002</p><p>\u8981\u6C42\u76EE\u6807\u73AF\u5883\u6709 <code>Worker</code> \u548C <code>SharedArrayBuffer</code> \u652F\u6301\u3002\u5982\u679C\u76EE\u6807\u73AF\u5883\u662F\u6D4F\u89C8\u5668\uFF0C\u5219\u9700\u8981</p><div class="language-"><pre><code>Cross-Origin-Opener-Policy: same-origin
Cross-Origin-Embedder-Policy: require-corp
</code></pre></div><p>\u5728\u54CD\u5E94\u5934\u4E2D\u3002</p><p><code>async_resource</code> \u548C <code>async_resource_name</code> \u53C2\u6570\u6CA1\u6709\u6548\u679C\u3002</p></div><h4 id="node-api-h-1" tabindex="-1">node_api.h <a class="header-anchor" href="#node-api-h-1" aria-hidden="true">#</a></h4><ul><li><em><strong>napi_create_async_work</strong></em></li><li><em><strong>napi_delete_async_work</strong></em></li><li><em><strong>napi_queue_async_work</strong></em></li><li><em><strong>napi_cancel_async_work</strong></em></li><li><em><strong>napi_create_threadsafe_function</strong></em></li><li><em><strong>napi_get_threadsafe_function_context</strong></em></li><li><em><strong>napi_call_threadsafe_function</strong></em></li><li><em><strong>napi_acquire_threadsafe_function</strong></em></li><li><em><strong>napi_release_threadsafe_function</strong></em></li><li><em><strong>napi_unref_threadsafe_function</strong></em></li><li><em><strong>napi_ref_threadsafe_function</strong></em></li></ul><h2 id="\u4EFB\u4F55\u65F6\u5019\u90FD\u53EF\u7528\u7684-api" tabindex="-1">\u4EFB\u4F55\u65F6\u5019\u90FD\u53EF\u7528\u7684 API <a class="header-anchor" href="#\u4EFB\u4F55\u65F6\u5019\u90FD\u53EF\u7528\u7684-api" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u8BF7\u653E\u5FC3\u4F7F\u7528\u4EE5\u4E0B API\u3002</p></div><h4 id="js-native-api-h-5" tabindex="-1">js_native_api.h <a class="header-anchor" href="#js-native-api-h-5" aria-hidden="true">#</a></h4><ul><li>napi_get_last_error_info</li><li>napi_get_undefined</li><li>napi_get_null</li><li>napi_get_global</li><li>napi_get_boolean</li><li>napi_create_object</li><li>napi_create_array</li><li>napi_create_array_with_length</li><li>napi_create_double</li><li>napi_create_int32</li><li>napi_create_uint32</li><li>napi_create_int64</li><li>napi_create_string_latin1</li><li>napi_create_string_utf8</li><li>napi_create_string_utf16</li><li>napi_create_symbol</li><li><strong>node_api_symbol_for (NAPI_EXPERIMENTAL)</strong></li><li>napi_create_function</li><li>napi_create_error</li><li>napi_create_type_error</li><li>napi_create_range_error</li><li><strong>node_api_create_syntax_error (NAPI_EXPERIMENTAL)</strong></li><li>napi_typeof</li><li>napi_get_value_double</li><li>napi_get_value_int32</li><li>napi_get_value_uint32</li><li>napi_get_value_int64</li><li>napi_get_value_bool</li><li>napi_get_value_string_latin1</li><li>napi_get_value_string_utf8</li><li>napi_get_value_string_utf16</li><li>napi_coerce_to_bool</li><li>napi_coerce_to_number</li><li>napi_coerce_to_object</li><li>napi_coerce_to_string</li><li>napi_get_prototype</li><li>napi_get_property_names</li><li>napi_set_property</li><li>napi_has_property</li><li>napi_get_property</li><li>napi_delete_property</li><li>napi_has_own_property</li><li>napi_set_named_property</li><li>napi_has_named_property</li><li>napi_get_named_property</li><li>napi_set_element</li><li>napi_has_element</li><li>napi_get_element</li><li>napi_delete_element</li><li>napi_define_properties</li><li>napi_is_array</li><li>napi_get_array_length</li><li>napi_strict_equals</li><li>napi_call_function</li><li>napi_new_instance</li><li>napi_instanceof</li><li>napi_get_cb_info</li><li>napi_get_new_target</li><li>napi_define_class</li><li>napi_open_handle_scope</li><li>napi_close_handle_scope</li><li>napi_open_escapable_handle_scope</li><li>napi_close_escapable_handle_scope</li><li>napi_escape_handle</li><li>napi_throw</li><li>napi_throw_error</li><li>napi_throw_type_error</li><li>napi_throw_range_error</li><li><strong>node_api_throw_syntax_error (NAPI_EXPERIMENTAL)</strong></li><li>napi_is_error</li><li>napi_is_exception_pending</li><li>napi_get_and_clear_last_exception</li><li>napi_is_arraybuffer</li><li>napi_is_typedarray</li><li>napi_create_typedarray</li><li>napi_create_dataview</li><li>napi_is_dataview</li><li>napi_detach_arraybuffer</li><li>napi_is_detached_arraybuffer</li><li>napi_get_version</li><li>napi_create_promise</li><li>napi_resolve_deferred</li><li>napi_reject_deferred</li><li>napi_is_promise</li><li>napi_run_script</li><li>napi_create_date</li><li>napi_is_date</li><li>napi_get_date_value</li><li>napi_get_all_property_names</li><li>napi_set_instance_data</li><li>napi_get_instance_data</li><li>napi_object_freeze</li><li>napi_object_seal</li><li>napi_type_tag_object</li><li>napi_check_object_type_tag</li><li>napi_unwrap</li><li>napi_remove_wrap</li><li>napi_get_value_external</li><li>napi_delete_reference</li><li>napi_reference_ref</li><li>napi_get_reference_value</li></ul><h4 id="node-api-h-2" tabindex="-1">node_api.h <a class="header-anchor" href="#node-api-h-2" aria-hidden="true">#</a></h4><ul><li>napi_fatal_error</li><li>napi_get_node_version</li></ul>`,33),_=[r];function t(o,s,p,c,d,h){return i(),a("div",null,_)}var f=e(n,[["render",t]]);export{u as __pageData,f as default};
